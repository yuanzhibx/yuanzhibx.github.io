<!DOCTYPE html>
<html lang="zh-CH">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.24.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="【数据库系统概论】6 - 7 Chapter">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库系统概论_笔记 Part2 Design">
<meta property="og:url" content="http://example.com/2025/09/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA_%E7%AC%94%E8%AE%B0%20Part2%20Design/index.html">
<meta property="og:site_name" content="Yuanzhibx">
<meta property="og:description" content="【数据库系统概论】6 - 7 Chapter">
<meta property="og:locale" content="zh_CH">
<meta property="article:published_time" content="2025-09-09T15:26:55.000Z">
<meta property="article:modified_time" content="2025-09-09T15:30:59.861Z">
<meta property="article:author" content="Yuanzhibx">
<meta property="article:tag" content="📘笔记">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2025/09/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA_%E7%AC%94%E8%AE%B0%20Part2%20Design/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CH","comments":true,"permalink":"http://example.com/2025/09/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA_%E7%AC%94%E8%AE%B0%20Part2%20Design/","path":"2025/09/09/数据库系统概论_笔记 Part2 Design/","title":"数据库系统概论_笔记 Part2 Design"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>数据库系统概论_笔记 Part2 Design | Yuanzhibx</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Yuanzhibx</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">欲渡黄河冰塞川，将登太行雪满山</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%90%86%E8%AE%BA"><span class="nav-number">1.</span> <span class="nav-text">第六章 关系数据理论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.</span> <span class="nav-text">一、函数依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 平凡函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%9D%9E%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 非平凡函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%8C%E5%85%A8%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.3.</span> <span class="nav-text">3. 完全函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.4.</span> <span class="nav-text">4. 部分函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.5.</span> <span class="nav-text">5. 传递函数依赖</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E7%A0%81"><span class="nav-number">1.2.</span> <span class="nav-text">二、码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E5%87%BA%E5%80%99%E9%80%89%E7%A0%81"><span class="nav-number">1.2.1.</span> <span class="nav-text">如何选出候选码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E8%8C%83%E5%BC%8F"><span class="nav-number">1.3.</span> <span class="nav-text">三、范式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1NF"><span class="nav-number">1.3.1.</span> <span class="nav-text">1. 1NF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2NF"><span class="nav-number">1.3.2.</span> <span class="nav-text">2. 2NF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3NF"><span class="nav-number">1.3.3.</span> <span class="nav-text">3. 3NF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-BCNF"><span class="nav-number">1.3.4.</span> <span class="nav-text">4. BCNF</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%85%AC%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.4.</span> <span class="nav-text">四、公理系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96"><span class="nav-number">1.4.1.</span> <span class="nav-text">依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%B1%82%E6%9C%80%E5%B0%8F%E4%BE%9D%E8%B5%96%E9%9B%86"><span class="nav-number">1.4.2.</span> <span class="nav-text">如何求最小依赖集</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3"><span class="nav-number">1.5.</span> <span class="nav-text">五、模式分解</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="nav-number">2.</span> <span class="nav-text">第七章 数据库设计</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="nav-number">2.1.</span> <span class="nav-text">一、数据库设计的基本步骤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81E-R-%E5%9B%BE"><span class="nav-number">2.2.</span> <span class="nav-text">二、E-R 图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%81%94%E7%B3%BB%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">2.2.1.</span> <span class="nav-text">1. 联系的分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-E-R-%E5%9B%BE%E7%A4%BA%E4%BE%8B"><span class="nav-number">2.2.2.</span> <span class="nav-text">2. E-R 图示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">示例 1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">示例 2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-E-R-%E5%9B%BE%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.3.</span> <span class="nav-text">3. E-R 图转换关系类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%881%EF%BC%891-1-%E8%81%94%E7%B3%BB"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">（1）1:1 联系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%882%EF%BC%891-N-%E8%81%94%E7%B3%BB"><span class="nav-number">2.2.3.2.</span> <span class="nav-text">（2）1:N 联系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%883%EF%BC%89M-N-%E8%81%94%E7%B3%BB"><span class="nav-number">2.2.3.3.</span> <span class="nav-text">（3）M:N 联系</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-E-R-%E5%9B%BE%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%A4%BA%E4%BE%8B"><span class="nav-number">2.2.4.</span> <span class="nav-text">4. E-R 图转换关系模型示例</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yuanzhibx</p>
  <div class="site-description" itemprop="description">6657</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CH">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/09/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA_%E7%AC%94%E8%AE%B0%20Part2%20Design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yuanzhibx">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuanzhibx">
      <meta itemprop="description" content="6657">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="数据库系统概论_笔记 Part2 Design | Yuanzhibx">
      <meta itemprop="description" content="&lt;p style&#x3D;&quot;text-align:center&quot;&gt;【数据库系统概论】6 - 7 Chapter&lt;&#x2F;p &gt;">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          数据库系统概论_笔记 Part2 Design
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-09-09 23:26:55 / Modified: 23:30:59" itemprop="dateCreated datePublished" datetime="2025-09-09T23:26:55+08:00">2025-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/341-%E5%86%9C%E4%B8%9A%E7%9F%A5%E8%AF%86%E7%BB%BC%E5%90%88%E4%B8%89/" itemprop="url" rel="index"><span itemprop="name">341 农业知识综合三</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>6.8k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>12 mins.</span>
    </span>
</div>

            <div class="post-description"><p style="text-align:center">【数据库系统概论】6 - 7 Chapter</p ></div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="第六章-关系数据理论"><a href="#第六章-关系数据理论" class="headerlink" title="第六章 关系数据理论"></a>第六章 关系数据理论</h1><p>为什么引入范式：（关系模式存在问题）</p>
<ol>
<li>数据冗余</li>
<li>更新异常</li>
<li>插入异常</li>
<li>删除异常</li>
</ol>
<h2 id="一、函数依赖"><a href="#一、函数依赖" class="headerlink" title="一、函数依赖"></a>一、函数依赖</h2><p>定义：设$R(U)$是一个属性集$U$上的关系模式，$X$和$Y$是$U$的子集。若对于$R(U)$的任意一个可能的关系$r$，$r$中不可能存在两个元组在$X$上的属性值相等，而在$Y$上的属性值不等，则称 “$X$函数确定$Y$” 或 “$Y$函数依赖于$X$”，记作$X→Y$。</p>
<p>例：在关系$Student(Sno, Sname, Ssex, Sage, Sdept)$，假设不允许重名，有：</p>
<ul>
<li>$Sno → Sname$</li>
<li>$Sno → Ssex$</li>
<li>$Sno → Sage$</li>
<li>$Sno → Sdept$</li>
<li>$Sname → Sno$</li>
<li>$Sname → Ssex$</li>
<li>$Sname → Sage$</li>
<li>$Sname → Sdept$</li>
</ul>
<h3 id="1-平凡函数依赖"><a href="#1-平凡函数依赖" class="headerlink" title="1. 平凡函数依赖"></a>1. 平凡函数依赖</h3><p>$X→Y$，但$Y⊆X$则称$X→Y$是平凡的函数依赖。</p>
<h3 id="2-非平凡函数依赖"><a href="#2-非平凡函数依赖" class="headerlink" title="2. 非平凡函数依赖"></a>2. 非平凡函数依赖</h3><p>$X→Y$，但$Y⊈X$则称$X→Y$是非平凡的函数依赖。</p>
<h3 id="3-完全函数依赖"><a href="#3-完全函数依赖" class="headerlink" title="3. 完全函数依赖"></a>3. 完全函数依赖</h3><p>在$R(U)$中，如果$X→Y$，并且对于$X$的任何一个真子集$X’$，都有$X’ \nrightarrow Y$，则称$Y$对$X$完全函数依赖，记作$X \stackrel{F}{\rightarrow} Y$。</p>
<h3 id="4-部分函数依赖"><a href="#4-部分函数依赖" class="headerlink" title="4. 部分函数依赖"></a>4. 部分函数依赖</h3><p>在$R(U)$中，如果$X→Y$，但$Y$不完全函数依赖于$X$，则称$Y$对$X$部分函数依赖，记作$X \stackrel{P}{\rightarrow} Y$。</p>
<h3 id="5-传递函数依赖"><a href="#5-传递函数依赖" class="headerlink" title="5. 传递函数依赖"></a>5. 传递函数依赖</h3><p>在$R(U)$中，如果$X→Y(Y \nsubseteq X)$，$Y \nrightarrow X$，$Y→Z$，$Z \nsubseteq Y$，则称$Z$对$X$传递函数依赖，记为$X \stackrel{传递}{\rightarrow} Z$。</p>
<h2 id="二、码"><a href="#二、码" class="headerlink" title="二、码"></a>二、码</h2><p>设$K$为$R&lt;U, F&gt;$中的属性或属性组合。</p>
<ul>
<li>如果$U$完全函数依赖于$K$，即$K \stackrel{F}{\rightarrow} U$，则$K$称为$R$的一个候选码（Candidate Key）。</li>
<li>如果$U$部分函数依赖于$K$，即$K \stackrel{P}{\rightarrow} U$，则$K$称为$R$的一个超码（Surpkey）。</li>
<li>若关系模式$R$有多个候选码，则选定其中的一个做为主码（Primary key）。</li>
<li>若关系模式$R$中属性或属性组$X$并非$R$的码，但$X$是另一个关系模式的码，则称$X$是$R$的外部码（Foreign key）也称外码。</li>
</ul>
<h3 id="如何选出候选码"><a href="#如何选出候选码" class="headerlink" title="如何选出候选码"></a>如何选出候选码</h3><ol>
<li>只出现在左边的一定是候选码</li>
<li>只出现在右边的一定不是候选码</li>
<li>左右都出现的不一定</li>
<li>左右都不出现的一定是候选码</li>
<li>再求确定的候选码的闭包，如果可以推出全部，那么当前确定的就是候选码；否则把每一个可能的值放到当前确定的候选码里面求闭包。</li>
</ol>
<p>例：$R&lt;U,F&gt;$，$U(A,B,C,D,E,G)$，$F&#x3D;{AB→C,CD→E,E→A,A→G}$，求候选码：</p>
<ul>
<li>只出现在左：$B,D$</li>
<li>只出现在右：$G$</li>
<li>左右都出现：$A,C,E$</li>
</ul>
<p>$B,D$一定是候选码，$G$一定不是，$A,C,E$有可能是候选码。$(BD)^+$什么也求不出来，所以把每一个可能求闭包：</p>
<ul>
<li>$(ABD)^+&#x3D;C,E,A,G$，可以全部推出</li>
<li>$(BCD)^+&#x3D;E,A,G$，可以全部推出</li>
<li>$(BDE)^+&#x3D;A,G,C$，可以全部推出</li>
</ul>
<p>所以，候选码最终是${(ABD），(BCD)，(BDE)}$</p>
<h2 id="三、范式"><a href="#三、范式" class="headerlink" title="三、范式"></a>三、范式</h2><p>设计关系数据库时，遵从不同的规范要求，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的规范数据库冗余越小。</p>
<p>目前关系数据库已有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯 - 科德范式（BCNF）、第四范式（4NF）和第五范式（5NF）。</p>
<h3 id="1-1NF"><a href="#1-1NF" class="headerlink" title="1. 1NF"></a>1. 1NF</h3><p>作为二维表，关系要符合一个最基本的条件：每个分量必须是不可分开的数据项。满足了这个条件的关系模式就属于第一范式（1NF），即所有字段都是不可分解的原子值。</p>
<p>未满足 1NF 的表：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>姓名</th>
<th>联系方式</th>
<th>地址</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>王全</td>
<td>538</td>
<td>山东省泰安市泰山区</td>
</tr>
<tr>
<td>2</td>
<td>马汉</td>
<td>537</td>
<td>山东省泰安市岱岳区</td>
</tr>
<tr>
<td>3</td>
<td>张龙</td>
<td>536</td>
<td>山东省济南市槐荫区</td>
</tr>
<tr>
<td>4</td>
<td>赵虎</td>
<td>531</td>
<td>山东省济南市历城区</td>
</tr>
</tbody></table>
<p>满足 1NF 的表：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>姓名</th>
<th>联系方式</th>
<th>省</th>
<th>市</th>
<th>区</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>王全</td>
<td>538</td>
<td>山东省</td>
<td>泰安市</td>
<td>泰山区</td>
</tr>
<tr>
<td>2</td>
<td>马汉</td>
<td>537</td>
<td>山东省</td>
<td>泰安市</td>
<td>岱岳区</td>
</tr>
<tr>
<td>3</td>
<td>张龙</td>
<td>536</td>
<td>山东省</td>
<td>济南市</td>
<td>槐荫区</td>
</tr>
<tr>
<td>4</td>
<td>赵虎</td>
<td>531</td>
<td>山东省</td>
<td>济南市</td>
<td>历城区</td>
</tr>
</tbody></table>
<h3 id="2-2NF"><a href="#2-2NF" class="headerlink" title="2. 2NF"></a>2. 2NF</h3><p>若关系模式$R∈1NF$，并且每一个非主属性都完全函数依赖于任何一个候选码，则$R∈2NF$，即非主键必须完全依赖主键，一个表中只保留一种数据。</p>
<p>未满足 2NF 的表：</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>课程号</th>
<th>姓名</th>
<th>所在系</th>
<th>课程名</th>
<th>学分</th>
<th>成绩</th>
</tr>
</thead>
<tbody><tr>
<td>201215121</td>
<td>1</td>
<td>李勇</td>
<td>计算机系</td>
<td>数据库</td>
<td>4</td>
<td>92</td>
</tr>
<tr>
<td>201215121</td>
<td>2</td>
<td>李勇</td>
<td>计算机系</td>
<td>数学</td>
<td>2</td>
<td>85</td>
</tr>
<tr>
<td>201215121</td>
<td>3</td>
<td>李勇</td>
<td>计算机系</td>
<td>信息系统</td>
<td>4</td>
<td>88</td>
</tr>
<tr>
<td>201215122</td>
<td>2</td>
<td>刘晨</td>
<td>信息系</td>
<td>数学</td>
<td>6</td>
<td>90</td>
</tr>
<tr>
<td>201215122</td>
<td>3</td>
<td>刘晨</td>
<td>信息系</td>
<td>信息系统</td>
<td>8</td>
<td>80</td>
</tr>
</tbody></table>
<p>满足 2NF 的表：</p>
<p>学生表：</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>姓名</th>
<th>所在系</th>
</tr>
</thead>
<tbody><tr>
<td>201215121</td>
<td>李勇</td>
<td>计算机系</td>
</tr>
<tr>
<td>201215122</td>
<td>刘晨</td>
<td>信息系</td>
</tr>
</tbody></table>
<p>选课表：</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>课程号</th>
<th>成绩</th>
</tr>
</thead>
<tbody><tr>
<td>201215121</td>
<td>1</td>
<td>92</td>
</tr>
<tr>
<td>201215121</td>
<td>2</td>
<td>85</td>
</tr>
<tr>
<td>201215121</td>
<td>3</td>
<td>88</td>
</tr>
<tr>
<td>201215122</td>
<td>2</td>
<td>90</td>
</tr>
<tr>
<td>201215122</td>
<td>3</td>
<td>80</td>
</tr>
</tbody></table>
<p>课程表：</p>
<table>
<thead>
<tr>
<th>课程号</th>
<th>课程名</th>
<th>学分</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>数据库</td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>数学</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>信息系统</td>
<td>4</td>
</tr>
</tbody></table>
<h3 id="3-3NF"><a href="#3-3NF" class="headerlink" title="3. 3NF"></a>3. 3NF</h3><p>非主键必须直接依赖主键，不能存在传递依赖，确保数据表每一列与主码直接相关。</p>
<p>满足 3NF 的表：</p>
<p>学生表：</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>姓名</th>
<th>所在系</th>
<th>系主任工号</th>
</tr>
</thead>
<tbody><tr>
<td>201215121</td>
<td>李勇</td>
<td>CS</td>
<td>202312</td>
</tr>
<tr>
<td>201215122</td>
<td>刘晨</td>
<td>CS</td>
<td>202312</td>
</tr>
<tr>
<td>201215123</td>
<td>王敏</td>
<td>MA</td>
<td>202313</td>
</tr>
<tr>
<td>201215125</td>
<td>张立</td>
<td>IS</td>
<td>202314</td>
</tr>
</tbody></table>
<p>系主任表：</p>
<table>
<thead>
<tr>
<th>工号</th>
<th>系主任名</th>
<th>所教课程</th>
</tr>
</thead>
<tbody><tr>
<td>202312</td>
<td>马汉</td>
<td>c 程序设计</td>
</tr>
<tr>
<td>202313</td>
<td>张龙</td>
<td>数据库概论</td>
</tr>
<tr>
<td>202314</td>
<td>赵虎</td>
<td>计算机网络</td>
</tr>
</tbody></table>
<h3 id="4-BCNF"><a href="#4-BCNF" class="headerlink" title="4. BCNF"></a>4. BCNF</h3><p>消除每一属性对候选键的传递依赖，主键是唯一决定因素。</p>
<p>未满足 BCNF 的表：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>书名</th>
<th>作者</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>c 程序设计</td>
<td>谭浩强</td>
</tr>
<tr>
<td>2</td>
<td>数据库概论</td>
<td>王珊</td>
</tr>
<tr>
<td>3</td>
<td>计算机网络</td>
<td>谢希仁</td>
</tr>
</tbody></table>
<p>作者表：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>作者</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>谭浩强</td>
</tr>
<tr>
<td>2</td>
<td>王珊</td>
</tr>
<tr>
<td>3</td>
<td>谢希仁</td>
</tr>
</tbody></table>
<p>满足 BCNF 的表：</p>
<p>书籍表：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>书名</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>c 程序设计</td>
</tr>
<tr>
<td>2</td>
<td>数据库概论</td>
</tr>
<tr>
<td>3</td>
<td>计算机网络</td>
</tr>
</tbody></table>
<h2 id="四、公理系统"><a href="#四、公理系统" class="headerlink" title="四、公理系统"></a>四、公理系统</h2><p>为了求得给定关系模式的码，为了从一组函数依赖求得蕴涵的函数依赖，例如已知函数依赖集$F$，要问$X→Y$是否为$F$所蕴涵，就需要一套推理规则，这组推理规则是 1974 年首先由 Armstrong 提出来的。</p>
<p>Armstrong 公理系统（Armstrong’s axiom）设$U$为属性集总体，$F$是$U$上的一组函数依赖，于是有关系模式$R&lt;U, F&gt;$，对$R&lt;U, F&gt;$来说有以下的推理规则：</p>
<ul>
<li><strong>A1 自反律（reflexivity rule）</strong>：若$Y⊆X⊆U$，则$X→Y$为$F$所蕴涵。</li>
<li><strong>A2 增广律（augmentation rule）</strong>：若$X→Y$为$F$所蕴涵，且$Z⊆U$，则$XZ→YZ$为$F$所蕴涵。</li>
<li><strong>A3 传递律（transitivity rule）</strong>：若$X→Y$及$Y→Z$为$F$所蕴涵，则$X→Z$为$F$所蕴涵。</li>
</ul>
<p>注意：由自反律所得到的函数依赖均是平凡的函数依赖，自反律的使用并不依赖于$F$。</p>
<p>根据 A1、A2、A3 这三条推理规则可以得到下面三条很有用的推理规则：</p>
<ul>
<li><strong>合并规则（union rule）</strong>：由$X→Y$，$X→Z$，有$X→YZ$。</li>
<li><strong>伪传递规则（pseudo transitivity rule）</strong>：由$X→Y$，$WY→Z$，有$XW→Z$。</li>
<li><strong>分解规则（decomposition rule）</strong>：由$X→YZ$，有$X→Y$、$X→Z$。</li>
</ul>
<p>根据合并规则和分解规则，很容易得到这样一个重要事实：</p>
<p>引理 6.1 $X→A_1A_2…A_k$成立的充分必要条件是$X→A_i$成立（$i&#x3D;1,2,…,k$）。</p>
<p>定义 6.12 在关系模式$R&lt;U, F&gt;$中为$F$所逻辑蕴涵的函数依赖的全体叫作$F$的闭包（closure），记为$F^+$。</p>
<p>人们把自反律、传递律和增广律称为 Armstrong 公理系统。Armstrong 公理系统是有效的、完备的。Armstrong 公理的有效性指的是：由$F$出发根据 Armstrong 公理推出的每一个函数依赖一定在$F^+$中；完备性指的是：$F^+$中的每一个函数依赖，必定可以由$F$出发根据 Armstrong 公理推出。</p>
<h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><p>是指关系中一个或一组属性的值可以决定其他属性的值，比如$A→B$这就是一个依赖。</p>
<h3 id="如何求最小依赖集"><a href="#如何求最小依赖集" class="headerlink" title="如何求最小依赖集"></a>如何求最小依赖集</h3><ol>
<li>拆右边为多个元素，比如$A→BC$拆为$A→B$，$A→C$</li>
<li>去掉当前元素，求它的闭包（推不出就保留），依次对集合内的所有元素执行此操作。</li>
<li>左边最小化（通过遮住元素，求剩下元素的闭包，看能不能推出被遮住的元素，如果能就拆分掉此元素）</li>
</ol>
<p>例：已知关系$R&lt;U,F&gt;$，$U(A,B,C,D,E,F,G)$，$F&#x3D;{BCD→A,BC→E,A→F,F→G,C→D,A→G}$，求$F$的最小依赖集：</p>
<ol>
<li>右边没有要拆分的</li>
<li>$(BCD)^+&#x3D;E$，$(BC)^+&#x3D;A,D,F,G$，$(A)^+&#x3D;G$（可以推出，删除），$(F)^+$，$(C)^+$</li>
<li>$BCD$可以拆分为$BC$，其他都不能拆分</li>
</ol>
<p>所以最小依赖是：${BC→A, BC→E, A→F,F→G,C→D}$</p>
<h2 id="五、模式分解"><a href="#五、模式分解" class="headerlink" title="五、模式分解"></a>五、模式分解</h2><p>准则：无损连接和保持函数依赖</p>
<ul>
<li>无损：分解后再次连接，和分解之前一样。</li>
<li>依赖：依赖不变</li>
</ul>
<p>例：$R(ABCDEGH)$，$F&#x3D;{A→D,E→D,D→B,BC→D,CD→A}$，求保持函数依赖的 3NF 的分解。</p>
<ol>
<li>求出最小函数依赖集：${A→D,E→D,D→B,BC→D,CD→A}$</li>
<li>把不在$F$里面的属性都找出来，单独分一类：$GH$不在$F$里，单独一类${GH}$</li>
<li>把每一个依赖左边相同的分成一类（例：${A→B,A→C}&#x3D;&gt;{ABC}$），如果没有，那就把$A→D$改成${AD}$</li>
<li>求候选码，如果候选码不在$F$中，把每一个候选码单独做一类，候选码为$CE$</li>
</ol>
<p>保持函数依赖的 3NF 的分解：${AD}{ED}{DB}{BCD}{DCA}{GH}{CE}$</p>
<h1 id="第七章-数据库设计"><a href="#第七章-数据库设计" class="headerlink" title="第七章 数据库设计"></a>第七章 数据库设计</h1><h2 id="一、数据库设计的基本步骤"><a href="#一、数据库设计的基本步骤" class="headerlink" title="一、数据库设计的基本步骤"></a>一、数据库设计的基本步骤</h2><ol>
<li><strong>需求分析</strong>：明确用户对数据库的各种需求，包括数据需求、功能需求和性能需求等，可设计流程图辅助分析。</li>
<li><strong>概念结构设计</strong>：将需求分析得到的用户需求抽象为信息结构（概念模型），常用 E-R 图或数据字典来表示。</li>
<li><strong>逻辑结构设计</strong>：把概念结构设计阶段得到的 E-R 图转换为具体的数据库管理系统所支持的逻辑数据模型（如关系模型）。</li>
<li><strong>物理结构设计</strong>：为逻辑数据模型选择一个最适合应用环境的物理结构，包括存储结构和存取方法，即把逻辑模型转为物理模型。</li>
<li><strong>数据库实施</strong>：根据逻辑结构设计和物理结构设计的结果，编写 SQL 代码，具体包括建立数据库结构、进行系统调试以及加载数据等操作。</li>
<li><strong>数据库运行维护</strong>：数据库投入运行后，需要对其进行性能检测，根据实际运行情况补充完善功能，确保数据库系统正常、高效地运行。</li>
</ol>
<h2 id="二、E-R-图"><a href="#二、E-R-图" class="headerlink" title="二、E-R 图"></a>二、E-R 图</h2><p>E-R 图（实体 - 联系图）提供了表示实体型、属性和联系的方法，是概念结构设计的重要工具。</p>
<ul>
<li><strong>实体</strong>：用矩形表示，矩形内写明实体名，例如 “学生”“教师”“课程” 等。</li>
<li><strong>属性</strong>：用椭圆形表示，椭圆形内写明属性名，并用无向边将其与对应的实体连接起来，例如学生的属性有 “学号”“姓名”“年龄” 等。</li>
<li><strong>联系</strong>：用菱形表示，菱形内写明联系名，并用无向边分别与有关实体连接起来，同时在无向边旁标上联系的类型（1:1、1:N 或 M:N），例如学生与课程之间的 “选课” 联系。</li>
</ul>
<h3 id="1-联系的分类"><a href="#1-联系的分类" class="headerlink" title="1. 联系的分类"></a>1. 联系的分类</h3><ul>
<li><strong>1 对 1（1:1）</strong>：是指对于实体集 A 与实体集 B，A 中的每一个实体至多与 B 中一个实体有关系。反之，在实体集 B 中的每个实体至多与实体集 A 中一个实体有关系。例如，一个班级只有一个班长，一个班长只属于一个班级，班级与班长之间的联系就是 1:1。</li>
<li><strong>1 对多（1:N）</strong>：是指实体集 A 与实体集 B 中至少有 N（N&gt;0）个实体有关系；并且实体集 B 中每一个实体至多与实体集 A 中一个实体有关系。例如，一个教师可以讲授多门课程，一门课程只能由一位教师主讲，教师与课程之间的 “讲授” 联系就是 1:N。</li>
<li><strong>多对多（M:N）</strong>：是指实体集 A 中的每一个实体与实体集 B 中至少有 M（M&gt;0）个实体有关系，并且实体集 B 中的每一个实体与实体集 A 中的至少 N（N&gt;0）个实体有关系。例如，一名学生可以选修多门课程，一门课程可以被多名学生选修，学生与课程之间的 “选课” 联系就是 M:N。</li>
</ul>
<h3 id="2-E-R-图示例"><a href="#2-E-R-图示例" class="headerlink" title="2. E-R 图示例"></a>2. E-R 图示例</h3><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例 1"></a>示例 1</h4><p><strong>实体</strong>：</p>
<ul>
<li>学生（学号，姓名，年龄……）</li>
<li>教师（职工号，姓名，年龄……）</li>
<li>课程（课程号，课程名）</li>
</ul>
<p><strong>需求</strong>：</p>
<ul>
<li>大学实行学分制，学生可根据自己的情况选课，每名学生可同时选修多门课程；</li>
<li>每门课程只能由一位教师主讲，每位教师可讲授多门课程；</li>
<li>每名学生有一位教师指导，每个教师指导多名学生。</li>
</ul>
<p>对应的 E-R 图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">          职工号</span><br><span class="line"></span><br><span class="line">          姓名</span><br><span class="line"></span><br><span class="line">          年龄</span><br><span class="line"></span><br><span class="line">    ┌───────┐</span><br><span class="line"></span><br><span class="line">    │ 教师  │</span><br><span class="line"></span><br><span class="line">    └───────┘</span><br><span class="line"></span><br><span class="line">       │  1</span><br><span class="line"></span><br><span class="line">       │  讲授</span><br><span class="line"></span><br><span class="line">       │ M</span><br><span class="line"></span><br><span class="line">       ▼</span><br><span class="line"></span><br><span class="line">┌───────┐     ┌───────┐     ┌───────┐</span><br><span class="line"></span><br><span class="line">│ 学生  │◄────┤ 选课  ├────►│ 课程  │</span><br><span class="line"></span><br><span class="line">└───────┘     └───────┘     └───────┘</span><br><span class="line"></span><br><span class="line">   │  M          │ N          │</span><br><span class="line"></span><br><span class="line">   │  指导       │            │</span><br><span class="line"></span><br><span class="line">   │ 1           │            │</span><br><span class="line"></span><br><span class="line">   └─────────────┘            │</span><br><span class="line"></span><br><span class="line">                               │</span><br><span class="line"></span><br><span class="line">                        课程号 │  课程名</span><br><span class="line"></span><br><span class="line">                               │</span><br></pre></td></tr></table></figure>

<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例 2"></a>示例 2</h4><p><strong>实体</strong>：</p>
<ul>
<li>职工（职工号，姓名，地址，所在部门）</li>
<li>部门（部门名，经理）</li>
<li>产品（产品编号，产品名，制造商，价格，型号）</li>
<li>制造商（制造商编号，制造商名称）</li>
</ul>
<p><strong>需求</strong>：</p>
<ul>
<li>部门有很多职工，职工仅在一个部门工作；</li>
<li>部门销售多种产品，这些产品也在其它部门销售；</li>
<li>制造商生产多种产品，其它制造商也制造这些产品。</li>
</ul>
<p>对应的 E-R 图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">┌─────────┐     ┌─────────┐</span><br><span class="line"></span><br><span class="line">│ 制造商  │     │ 产品    │</span><br><span class="line"></span><br><span class="line">└─────────┘     └─────────┘</span><br><span class="line"></span><br><span class="line">   │ 制造商编号       │ 产品编号</span><br><span class="line"></span><br><span class="line">   │ 制造商名称       │ 产品名</span><br><span class="line"></span><br><span class="line">   │ M               │ 型号</span><br><span class="line"></span><br><span class="line">   │ 生产            │ 价格</span><br><span class="line"></span><br><span class="line">   │ N               │</span><br><span class="line"></span><br><span class="line">   └──────────────────┘</span><br><span class="line"></span><br><span class="line">          │</span><br><span class="line"></span><br><span class="line">          │</span><br><span class="line"></span><br><span class="line">┌─────────┐     ┌─────────┐     ┌─────────┐</span><br><span class="line"></span><br><span class="line">│ 部门    │     │ 职工    │     │         │</span><br><span class="line"></span><br><span class="line">└─────────┘     └─────────┘     │         │</span><br><span class="line"></span><br><span class="line">   │ 部门名          │ 职工号       │</span><br><span class="line"></span><br><span class="line">   │ 经理            │ 姓名         │</span><br><span class="line"></span><br><span class="line">   │ 1               │ 地址         │</span><br><span class="line"></span><br><span class="line">   │ 领导            │ 所在部门     │</span><br><span class="line"></span><br><span class="line">   │ N               │             │</span><br><span class="line"></span><br><span class="line">   └──────────────────┘             │</span><br><span class="line"></span><br><span class="line">          │                          │</span><br><span class="line"></span><br><span class="line">          │ 销售                     │</span><br><span class="line"></span><br><span class="line">          │ M-N                      │</span><br><span class="line"></span><br><span class="line">          └──────────────────────────┘</span><br></pre></td></tr></table></figure>

<h3 id="3-E-R-图转换关系类型"><a href="#3-E-R-图转换关系类型" class="headerlink" title="3. E-R 图转换关系类型"></a>3. E-R 图转换关系类型</h3><h4 id="（1）1-1-联系"><a href="#（1）1-1-联系" class="headerlink" title="（1）1:1 联系"></a>（1）1:1 联系</h4><p>把关系合并到任意一个表，并且把另外表里的主键放到这个表中。</p>
<p>例如，实体 A（主键 A_id）和实体 B（主键 B_id）存在 1:1 联系，可将 B 的主键 B_id 作为外键添加到 A 表中，形成 A 表（A_id，A_attr1，A_attr2，…，B_id），或者将 A 的主键 A_id 作为外键添加到 B 表中，形成 B 表（B_id，B_attr1，B_attr2，…，A_id）。</p>
<h4 id="（2）1-N-联系"><a href="#（2）1-N-联系" class="headerlink" title="（2）1:N 联系"></a>（2）1:N 联系</h4><p>把 “1” 方实体的主码放到 “N” 方实体对应的表里面，然后把联系的属性也放到 “N” 方实体对应的表里面。</p>
<p>例如，实体 A（主键 A_id，1 方）和实体 B（主键 B_id，N 方）存在 1:N 联系，联系属性为 “联系属性 1”，则将 A 的主键 A_id 和联系属性 “联系属性 1” 添加到 B 表中，形成 B 表（B_id，B_attr1，B_attr2，…，A_id，联系属性 1）。</p>
<h4 id="（3）M-N-联系"><a href="#（3）M-N-联系" class="headerlink" title="（3）M:N 联系"></a>（3）M:N 联系</h4><p>需要将双方实体的主键和联系的属性，单独作为一个关系模型（即新建一个表）。</p>
<p>例如，实体 A（主键 A_id）和实体 B（主键 B_id）存在 M:N 联系，联系属性为 “联系属性 1”“联系属性 2”，则新建一个表 AB（A_id，B_id，联系属性 1，联系属性 2），其中 A_id 和 B_id 分别作为外键参照 A 表和 B 表的主键，A_id 和 B_id 共同构成 AB 表的主键。</p>
<h3 id="4-E-R-图转换关系模型示例"><a href="#4-E-R-图转换关系模型示例" class="headerlink" title="4. E-R 图转换关系模型示例"></a>4. E-R 图转换关系模型示例</h3><p>以某一包含部门、职工、产品、供应商、零件等实体的 E-R 图（图 7.28 虚线上部）为例，转换为关系模型如下（关系的码用下划线标出）：</p>
<ul>
<li><strong>部门（部门号，部门名，经理的职工号，…）</strong>：此为部门实体对应的关系模式。该关系模式已包含了联系 “领导” 所对应的关系模式，经理的职工号是关系的候选码。</li>
<li><strong>职工（职工号，部门号，职工名，职务，…）</strong>：此为职工实体对应的关系模式。该关系模式已包含了联系 “属于” 所对应的关系模式。</li>
<li><strong>产品（产品号，产品名，产品组长的职工号，…）</strong>：此为产品实体对应的关系模式。</li>
<li><strong>供应商（供应商号，姓名，…）</strong>：此为供应商实体对应的关系模式。</li>
<li><strong>零件（零件号，零件名，…）</strong>：此为零件实体对应的关系模式。</li>
<li><strong>供应（产品号，供应商号，零件号，供应量）</strong>：此为联系 “供应” 所对应的关系模式。</li>
</ul>
<hr>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%F0%9F%93%98%E7%AC%94%E8%AE%B0/" rel="tag"># 📘笔记</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/09/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA_%E7%AC%94%E8%AE%B0%20Part1%20Basic/" rel="prev" title="数据库系统概论_笔记 Part1 Basic">
                  <i class="fa fa-angle-left"></i> 数据库系统概论_笔记 Part1 Basic
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/09/23/%E9%81%A5%E6%84%9F%E5%9F%BA%E7%A1%80%E4%B8%8E%E5%BA%94%E7%94%A8_%E8%AF%BE%E5%90%8E%E9%A2%98/" rel="next" title="遥感基础与应用_课后题">
                  遥感基础与应用_课后题 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Yuanzhibx</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/yuanzhibx" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
